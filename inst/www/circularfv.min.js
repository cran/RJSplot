require=function t(n,e,r){function i(a,u){if(!e[a]){if(!n[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=e[a]={exports:{}};n[a][0].call(l.exports,function(t){var e=n[a][1][t];return i(e?e:t)},l,l.exports,t,n,e,r)}return e[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,n){var e=t("js-class"),r=t("underscore");n.exports=CircularFeatureViewer=e({constructor:function(){this._render()},_render:function(){this._organizeTracks(),this._initVariables(),this._updateView(this.opt.features)},opt:{target:"YourOwnDivId",sequence:"",features:[],width:500,height:500},eventTypes:["annotationMouseover","annotationMouseout","annotationClick","annotationAdded","annotationRemoved"],_tracks:[],_svg:null,_colorScale:d3.scale.category20c(),_arc:null,_seqToRad:null,_seqToDeg:null,_lineFunction:null,_radius:null,_rotate:!1,_numInParenthesis:/\((-?\d+(\.\d{1,100})?)\)/,goTo:function(t){t>0&&t<=this.opt.sequence.length&&(this._svg.selectAll(".main").transition().attr("transform","translate("+this.opt.width/2+","+this.opt.height/2+")rotate("+-this._seqToDeg(t)+")").duration(1500).delay(100).ease("linear"),this._svg.selectAll(".txt").transition().text(this._getSequenceChunk(t,10)))},addAnnotation:function(t){var n=this._addAnnotation(t);this.opt.features.push(n),this._updateView(this.opt.features),this.trigger("annotationAdded",n)},removeAnnotation:function(t){var n=null,e=r.find(this.opt.features,function(e,r){return n=r,e.id===t});this.opt.features.splice(n,1),this._organizeTracks(),this._updateView(this.opt.features),this.trigger("annotationRemoved",e)},_addAnnotation:function(t){var n=r.find(this._tracks,function(n){return 0===n.getOverlaps(t).length})||this._createTrack(this._tracks.length);return 0===n.feats.length&&this._tracks.push(n),t.track=n.id,n.feats.push(t),t},_getSequenceChunk:function(t,n){t-=1;var e=this.opt.sequence,r="";return r=0>t-n?e.slice(t-n)+e.slice(0,t):e.slice(t-n,t),t+n>e.length?r=r+e.slice(t)+e.slice(0,t+n-e.length):r+=e.slice(t,t+n),r},_organizeTracks:function(){this._tracks=[],r.each(this.opt.features,this._addAnnotation,this)},_initVariables:function(){var t=this;t._radius=Math.min(t.opt.width,t.opt.height)/2;var n=t.opt.sequence;n=n.toUpperCase(),t._seqToRad=d3.scale.linear().domain([1,n.length]).range([0,2*Math.PI]),t._seqToDeg=d3.scale.linear().domain([1,n.length]).range([0,360]),t._arc=d3.svg.arc().outerRadius(function(n){return t._radius/2+12*n.track+10}).innerRadius(function(n){return t._radius/2+12*n.track}).startAngle(function(n){return t._seqToRad(n.start)}).endAngle(function(n){return t._seqToRad(n.stop+1)+(n.start>n.stop?2*Math.PI:0)}),t._svg=d3.select("#"+t.opt.target).append("svg").attr("width",t.opt.width).attr("height",t.opt.height),d3.select("#"+t.opt.target).attr("tabindex",0).on("keydown",function(){37===d3.event.keyCode?(t._rotate=!0,t._rotatefn(1)):39===d3.event.keyCode&&(t._rotate=!0,t._rotatefn(-1))}).on("keyup",function(){(37===d3.event.keyCode||39===d3.event.keyCode)&&(t._rotate=!1)}),t._svg.append("g").attr("class","main").attr("transform","translate("+t.opt.width/2+","+t.opt.height/2+") rotate(0)"),t._svg.append("text").attr("class","txt").attr("x",0).attr("y",0).attr("font-size","15px").attr("text-anchor","middle").attr("font-family",'"Lucida Console", Monaco, monospace').attr("transform","translate("+t.opt.width/2+","+t.opt.height/2+")").text(t._getSequenceChunk(1,10)),t._lineFunction=d3.svg.line().x(function(t){return t.x}).y(function(t){return t.y}).interpolate("linear");var e=[{x:t._radius,y:t._radius},{x:t._radius,y:t._radius/2+12*t._tracks.length}];t._svg.append("path").attr("class","line").attr("d",t._lineFunction(e)).attr("stroke","blue").attr("stroke-width",2).attr("fill","none");var r=[{x:t._radius/2,y:0},{x:t._radius/2-10,y:10},{x:t._radius/2-10,y:-10}];t._svg.append("path").attr("class","arrow").attr("class","left").attr("d",t._lineFunction(r)).attr("transform","translate("+t.opt.width/2+","+t.opt.height/2+")").attr("stroke","#666666").attr("stroke-width",2).attr("fill","#666666").on("mouseover",function(){t._rotate=!0,t._rotatefn(1)}).on("mouseout",function(){t._rotate=!1});var r=[{x:-t._radius/2,y:0},{x:-t._radius/2+10,y:10},{x:-t._radius/2+10,y:-10}];t._svg.append("path").attr("class","arrow").attr("class","right").attr("d",t._lineFunction(r)).attr("transform","translate("+t.opt.width/2+","+t.opt.height/2+")").attr("stroke","#666666").attr("stroke-width",2).attr("fill","#666666").on("mouseover",function(){t._rotate=!0,t._rotatefn(-1)}).on("mouseout",function(){t._rotate=!1})},_rotatefn:function(t){var n=this.opt.speed,e=this,r=e._svg.selectAll(".main"),i=e._seqToDeg(2),o=+r.attr("transform").match(e._numInParenthesis)[1];d3.timer(function(){if(!e._rotate)return!0;o+=t*i*n,r.attr("transform","translate("+e.opt.width/2+","+e.opt.height/2+") rotate("+o%360+")");var a=o>=0?Math.round(o%360):360+Math.round(o%360);a=Math.round(e._seqToDeg.invert(a)),e._svg.selectAll(".txt").transition().ease("cubic-out").duration("200").text(e._getSequenceChunk(a,10))})},_updateView:function(t){var n=this,e=this._svg.selectAll(".main").selectAll(".annotation").data(t),r=e.enter().append("path").attr("d",n._arc).attr("class","annotation").style("opacity",0).style("stroke-width",1).style("stroke","black").style("fill",function(t){return t.color||n._colorScale(t.type)}).on("mouseover",function(t){n.trigger("annotationMouseover",t)}).on("mouseout",function(t){n.trigger("annotationMouseout",t)}).on("click",function(t){n.trigger("annotationClick",t)});r.transition().delay(function(t){return 50*(t.track+1)}).duration(2e3).style("opacity",1),e.exit().transition().delay(function(t,n){return 50*n}).duration(2e3).style("opacity",0).remove();var i=[{x:0,y:0},{x:0,y:-n._radius/2-12*n._tracks.length}];n._svg.selectAll(".line").attr("d",n._lineFunction(i)).attr("transform","translate("+n.opt.width/2+","+n.opt.height/2+")")},_createTrack:function(t){var n=[],e=function(t){return r.filter(n,function(n){return a(t,n)})},i=function(t,n,e){return t>=n&&e>=t},o=function(t){var e=null;r.find(n,function(n,r){return e=r,n.id===t}),n.splice(e,1)},a=function(t,n){if(t.start>t.stop){if(!i(t.start,n.stop,n.start)||!i(t.stop,n.stop,n.start))return!0;if(!i(n.start,t.stop,t.start)||!i(n.stop,t.stop,t.start))return!0}else if(n.start>n.stop&&t.start<t.stop)return a(n,t);return i(t.start,n.start,n.stop)||i(t.stop,n.start,n.stop)?!0:i(n.start,t.start,t.stop)||i(n.stop,t.start,t.stop)?!0:!1},u={id:t,feats:n,getOverlaps:e,remove:o};return u}});var i=t("biojs-events");i.mixin(CircularFeatureViewer.prototype)},{"biojs-events":2,"js-class":5,underscore:7}],2:[function(t,n){var e=t("backbone-events-standalone");e.onAll=function(t,n){return this.on("all",t,n),this},e.oldMixin=e.mixin,e.mixin=function(t){e.oldMixin(t);for(var n=["onAll"],r=0;r<n.length;r++){var i=n[r];t[i]=this[i]}return t},n.exports=e},{"backbone-events-standalone":4}],3:[function(t,n,e){!function(){function t(){return{keys:Object.keys||function(t){if("object"!=typeof t&&"function"!=typeof t||null===t)throw new TypeError("keys() called on a non-object");var n,e=[];for(n in t)t.hasOwnProperty(n)&&(e[e.length]=n);return e},uniqueId:function(t){var n=++s+"";return t?t+n:n},has:function(t,n){return a.call(t,n)},each:function(t,n,e){if(null!=t)if(o&&t.forEach===o)t.forEach(n,e);else if(t.length===+t.length)for(var r=0,i=t.length;i>r;r++)n.call(e,t[r],r,t);else for(var a in t)this.has(t,a)&&n.call(e,t[a],a,t)},once:function(t){var n,e=!1;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}}}var r,i=this,o=Array.prototype.forEach,a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,s=0,c=t();r={on:function(t,n,e){if(!f(this,"on",t,[n,e])||!n)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:n,context:e,ctx:e||this}),this},once:function(t,n,e){if(!f(this,"once",t,[n,e])||!n)return this;var r=this,i=c.once(function(){r.off(t,i),n.apply(this,arguments)});return i._callback=n,this.on(t,i,e)},off:function(t,n,e){var r,i,o,a,u,s,l,p;if(!this._events||!f(this,"off",t,[n,e]))return this;if(!t&&!n&&!e)return this._events={},this;for(a=t?[t]:c.keys(this._events),u=0,s=a.length;s>u;u++)if(t=a[u],o=this._events[t]){if(this._events[t]=r=[],n||e)for(l=0,p=o.length;p>l;l++)i=o[l],(n&&n!==i.callback&&n!==i.callback._callback||e&&e!==i.context)&&r.push(i);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var n=u.call(arguments,1);if(!f(this,"trigger",t,n))return this;var e=this._events[t],r=this._events.all;return e&&p(e,n),r&&p(r,arguments),this},stopListening:function(t,n,e){var r=this._listeners;if(!r)return this;var i=!n&&!e;"object"==typeof n&&(e=this),t&&((r={})[t._listenerId]=t);for(var o in r)r[o].off(n,e,this),i&&delete this._listeners[o];return this}};var l=/\s+/,f=function(t,n,e,r){if(!e)return!0;if("object"==typeof e){for(var i in e)t[n].apply(t,[i,e[i]].concat(r));return!1}if(l.test(e)){for(var o=e.split(l),a=0,u=o.length;u>a;a++)t[n].apply(t,[o[a]].concat(r));return!1}return!0},p=function(t,n){var e,r=-1,i=t.length,o=n[0],a=n[1],u=n[2];switch(n.length){case 0:for(;++r<i;)(e=t[r]).callback.call(e.ctx);return;case 1:for(;++r<i;)(e=t[r]).callback.call(e.ctx,o);return;case 2:for(;++r<i;)(e=t[r]).callback.call(e.ctx,o,a);return;case 3:for(;++r<i;)(e=t[r]).callback.call(e.ctx,o,a,u);return;default:for(;++r<i;)(e=t[r]).callback.apply(e.ctx,n)}},h={listenTo:"on",listenToOnce:"once"};c.each(h,function(t,n){r[n]=function(n,e,r){var i=this._listeners||(this._listeners={}),o=n._listenerId||(n._listenerId=c.uniqueId("l"));return i[o]=n,"object"==typeof e&&(r=this),n[t](e,r,this),this}}),r.bind=r.on,r.unbind=r.off,r.mixin=function(t){var n=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return c.each(n,function(n){t[n]=this[n]},this),t},"undefined"!=typeof e?("undefined"!=typeof n&&n.exports&&(e=n.exports=r),e.BackboneEvents=r):"function"==typeof define&&"object"==typeof define.amd?define(function(){return r}):i.BackboneEvents=r}(this)},{}],4:[function(t,n){n.exports=t("./backbone-events-standalone")},{"./backbone-events-standalone":3}],5:[function(t,n){(function(t){function e(t,n,e){for(;n&&n!==Object.prototype&&(Object.getOwnPropertyNames(n).forEach(function(e){if(".class"!=e&&!t.hasOwnProperty(e)){var r=Object.getOwnPropertyDescriptor(n,e);Object.defineProperty(t,e,r)}}),!e);)n=n.__proto__;return t}function r(t,n){for(;t;){if(t.type.prototype===n.prototype)return!0;for(var e in t["implements"]){var i=t["implements"][e],o=i[".class.meta"];if(o){if(r(o,n))return!0}else for(var a=i.prototype;a;a=a.__proto__)if(a===n.prototype)return!0}t=t.base?t.base[".class.meta"]:void 0}return!1}var i=function(t,n,e){"function"!=typeof t&&(e=n,n=t,t=Object),n||(n={}),e||(e={});var r={name:e.name,base:t,"implements":[]},o=i.clone(n);e["implements"]&&(Array.isArray(e["implements"])?e["implements"]:[e["implements"]]).forEach(function(t){"function"==typeof t&&t.prototype&&(r["implements"].push(t),i.extend(o,t.prototype))}),o.__proto__=t.prototype;var a=function(){"function"==typeof this.constructor&&this.constructor.apply(this,arguments)};return r.type=a,a.prototype=o,Object.defineProperty(a,".class.meta",{value:r,enumerable:!1,configurable:!1,writable:!1}),Object.defineProperty(o,".class",{value:a,enumerable:!1,configurable:!1,writable:!1}),e.statics&&i.extend(a,e.statics),a};i.extend=e,i.clone=function(t){return e({},t)};var o=i({constructor:function(t){this.object=t},typeOf:function(t){if(this.object instanceof t)return!0;var n=i.typeInfo(this.object);return n&&r(n,t)}});o.prototype.a=o.prototype.typeOf,o.prototype.an=o.prototype.typeOf,i.is=function(t){return new o(t)},i.typeInfo=function(t){var n=t.__proto__[".class"];return n?n[".class.meta"]:void 0},i.VERSION=[0,0,2],n?n.exports=i:t.Class=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(){(function(){var t=Array.prototype.slice,n=Array.prototype.forEach,e=function(r){if("object"!=typeof r)throw r+" is not an object";var i=t.call(arguments,1);return n.call(i,function(t){if(t)for(var n in t)"object"==typeof t[n]&&r[n]?e.call(r,r[n],t[n]):r[n]=t[n]}),r};this.extend=e}).call(this)},{}],7:[function(t,n,e){(function(){function t(t){function n(n,e,r,i,o,a){for(;o>=0&&a>o;o+=t){var u=i?i[o]:o;r=e(r,n[u],u,n)}return r}return function(e,r,i,o){r=x(r,o,4);var a=!T(e)&&b.keys(e),u=(a||e).length,s=t>0?0:u-1;return arguments.length<3&&(i=e[a?a[s]:s],s+=t),n(e,r,i,a,s,u)}}function r(t){return function(n,e,r){e=k(e,r);for(var i=I(n),o=t>0?0:i-1;o>=0&&i>o;o+=t)if(e(n[o],o,n))return o;return-1}}function i(t,n,e){return function(r,i,o){var a=0,u=I(r);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+u,a):u=o>=0?Math.min(o+1,u):o+u+1;else if(e&&o&&u)return o=e(r,i),r[o]===i?o:-1;if(i!==i)return o=n(p.call(r,a,u),b.isNaN),o>=0?o+a:-1;for(o=t>0?a:u-1;o>=0&&u>o;o+=t)if(r[o]===i)return o;return-1}}function o(t,n){var e=S.length,r=t.constructor,i=b.isFunction(r)&&r.prototype||c,o="constructor";for(b.has(t,o)&&!b.contains(n,o)&&n.push(o);e--;)o=S[e],o in t&&t[o]!==i[o]&&!b.contains(n,o)&&n.push(o)}var a=this,u=a._,s=Array.prototype,c=Object.prototype,l=Function.prototype,f=s.push,p=s.slice,h=c.toString,d=c.hasOwnProperty,v=Array.isArray,g=Object.keys,y=l.bind,m=Object.create,_=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!=typeof e?("undefined"!=typeof n&&n.exports&&(e=n.exports=b),e._=b):a._=b,b.VERSION="1.8.3";var x=function(t,n,e){if(void 0===n)return t;switch(null==e?3:e){case 1:return function(e){return t.call(n,e)};case 2:return function(e,r){return t.call(n,e,r)};case 3:return function(e,r,i){return t.call(n,e,r,i)};case 4:return function(e,r,i,o){return t.call(n,e,r,i,o)}}return function(){return t.apply(n,arguments)}},k=function(t,n,e){return null==t?b.identity:b.isFunction(t)?x(t,n,e):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,n){return k(t,n,1/0)};var w=function(t,n){return function(e){var r=arguments.length;if(2>r||null==e)return e;for(var i=1;r>i;i++)for(var o=arguments[i],a=t(o),u=a.length,s=0;u>s;s++){var c=a[s];n&&void 0!==e[c]||(e[c]=o[c])}return e}},j=function(t){if(!b.isObject(t))return{};if(m)return m(t);_.prototype=t;var n=new _;return _.prototype=null,n},A=function(t){return function(n){return null==n?void 0:n[t]}},O=Math.pow(2,53)-1,I=A("length"),T=function(t){var n=I(t);return"number"==typeof n&&n>=0&&O>=n};b.each=b.forEach=function(t,n,e){n=x(n,e);var r,i;if(T(t))for(r=0,i=t.length;i>r;r++)n(t[r],r,t);else{var o=b.keys(t);for(r=0,i=o.length;i>r;r++)n(t[o[r]],o[r],t)}return t},b.map=b.collect=function(t,n,e){n=k(n,e);for(var r=!T(t)&&b.keys(t),i=(r||t).length,o=Array(i),a=0;i>a;a++){var u=r?r[a]:a;o[a]=n(t[u],u,t)}return o},b.reduce=b.foldl=b.inject=t(1),b.reduceRight=b.foldr=t(-1),b.find=b.detect=function(t,n,e){var r;return r=T(t)?b.findIndex(t,n,e):b.findKey(t,n,e),void 0!==r&&-1!==r?t[r]:void 0},b.filter=b.select=function(t,n,e){var r=[];return n=k(n,e),b.each(t,function(t,e,i){n(t,e,i)&&r.push(t)}),r},b.reject=function(t,n,e){return b.filter(t,b.negate(k(n)),e)},b.every=b.all=function(t,n,e){n=k(n,e);for(var r=!T(t)&&b.keys(t),i=(r||t).length,o=0;i>o;o++){var a=r?r[o]:o;if(!n(t[a],a,t))return!1}return!0},b.some=b.any=function(t,n,e){n=k(n,e);for(var r=!T(t)&&b.keys(t),i=(r||t).length,o=0;i>o;o++){var a=r?r[o]:o;if(n(t[a],a,t))return!0}return!1},b.contains=b.includes=b.include=function(t,n,e,r){return T(t)||(t=b.values(t)),("number"!=typeof e||r)&&(e=0),b.indexOf(t,n,e)>=0},b.invoke=function(t,n){var e=p.call(arguments,2),r=b.isFunction(n);return b.map(t,function(t){var i=r?n:t[n];return null==i?i:i.apply(t,e)})},b.pluck=function(t,n){return b.map(t,b.property(n))},b.where=function(t,n){return b.filter(t,b.matcher(n))},b.findWhere=function(t,n){return b.find(t,b.matcher(n))},b.max=function(t,n,e){var r,i,o=-1/0,a=-1/0;if(null==n&&null!=t){t=T(t)?t:b.values(t);for(var u=0,s=t.length;s>u;u++)r=t[u],r>o&&(o=r)}else n=k(n,e),b.each(t,function(t,e,r){i=n(t,e,r),(i>a||i===-1/0&&o===-1/0)&&(o=t,a=i)});return o},b.min=function(t,n,e){var r,i,o=1/0,a=1/0;if(null==n&&null!=t){t=T(t)?t:b.values(t);for(var u=0,s=t.length;s>u;u++)r=t[u],o>r&&(o=r)}else n=k(n,e),b.each(t,function(t,e,r){i=n(t,e,r),(a>i||1/0===i&&1/0===o)&&(o=t,a=i)});return o},b.shuffle=function(t){for(var n,e=T(t)?t:b.values(t),r=e.length,i=Array(r),o=0;r>o;o++)n=b.random(0,o),n!==o&&(i[o]=i[n]),i[n]=e[o];return i},b.sample=function(t,n,e){return null==n||e?(T(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,n))},b.sortBy=function(t,n,e){return n=k(n,e),b.pluck(b.map(t,function(t,e,r){return{value:t,index:e,criteria:n(t,e,r)}}).sort(function(t,n){var e=t.criteria,r=n.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(r>e||void 0===r)return-1}return t.index-n.index}),"value")};var q=function(t){return function(n,e,r){var i={};return e=k(e,r),b.each(n,function(r,o){var a=e(r,o,n);t(i,r,a)}),i}};b.groupBy=q(function(t,n,e){b.has(t,e)?t[e].push(n):t[e]=[n]}),b.indexBy=q(function(t,n,e){t[e]=n}),b.countBy=q(function(t,n,e){b.has(t,e)?t[e]++:t[e]=1}),b.toArray=function(t){return t?b.isArray(t)?p.call(t):T(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:T(t)?t.length:b.keys(t).length},b.partition=function(t,n,e){n=k(n,e);var r=[],i=[];return b.each(t,function(t,e,o){(n(t,e,o)?r:i).push(t)}),[r,i]},b.first=b.head=b.take=function(t,n,e){return null==t?void 0:null==n||e?t[0]:b.initial(t,t.length-n)},b.initial=function(t,n,e){return p.call(t,0,Math.max(0,t.length-(null==n||e?1:n)))},b.last=function(t,n,e){return null==t?void 0:null==n||e?t[t.length-1]:b.rest(t,Math.max(0,t.length-n))},b.rest=b.tail=b.drop=function(t,n,e){return p.call(t,null==n||e?1:n)},b.compact=function(t){return b.filter(t,b.identity)};var F=function(t,n,e,r){for(var i=[],o=0,a=r||0,u=I(t);u>a;a++){var s=t[a];if(T(s)&&(b.isArray(s)||b.isArguments(s))){n||(s=F(s,n,e));var c=0,l=s.length;for(i.length+=l;l>c;)i[o++]=s[c++]}else e||(i[o++]=s)}return i};b.flatten=function(t,n){return F(t,n,!1)},b.without=function(t){return b.difference(t,p.call(arguments,1))},b.uniq=b.unique=function(t,n,e,r){b.isBoolean(n)||(r=e,e=n,n=!1),null!=e&&(e=k(e,r));for(var i=[],o=[],a=0,u=I(t);u>a;a++){var s=t[a],c=e?e(s,a,t):s;n?(a&&o===c||i.push(s),o=c):e?b.contains(o,c)||(o.push(c),i.push(s)):b.contains(i,s)||i.push(s)}return i},b.union=function(){return b.uniq(F(arguments,!0,!0))},b.intersection=function(t){for(var n=[],e=arguments.length,r=0,i=I(t);i>r;r++){var o=t[r];if(!b.contains(n,o)){for(var a=1;e>a&&b.contains(arguments[a],o);a++);a===e&&n.push(o)}}return n},b.difference=function(t){var n=F(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(n,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var n=t&&b.max(t,I).length||0,e=Array(n),r=0;n>r;r++)e[r]=b.pluck(t,r);return e},b.object=function(t,n){for(var e={},r=0,i=I(t);i>r;r++)n?e[t[r]]=n[r]:e[t[r][0]]=t[r][1];return e},b.findIndex=r(1),b.findLastIndex=r(-1),b.sortedIndex=function(t,n,e,r){e=k(e,r,1);for(var i=e(n),o=0,a=I(t);a>o;){var u=Math.floor((o+a)/2);e(t[u])<i?o=u+1:a=u}return o},b.indexOf=i(1,b.findIndex,b.sortedIndex),b.lastIndexOf=i(-1,b.findLastIndex),b.range=function(t,n,e){null==n&&(n=t||0,t=0),e=e||1;for(var r=Math.max(Math.ceil((n-t)/e),0),i=Array(r),o=0;r>o;o++,t+=e)i[o]=t;return i};var M=function(t,n,e,r,i){if(!(r instanceof n))return t.apply(e,i);var o=j(t.prototype),a=t.apply(o,i);return b.isObject(a)?a:o};b.bind=function(t,n){if(y&&t.bind===y)return y.apply(t,p.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var e=p.call(arguments,2),r=function(){return M(t,r,n,this,e.concat(p.call(arguments)))};return r},b.partial=function(t){var n=p.call(arguments,1),e=function(){for(var r=0,i=n.length,o=Array(i),a=0;i>a;a++)o[a]=n[a]===b?arguments[r++]:n[a];for(;r<arguments.length;)o.push(arguments[r++]);return M(t,e,this,this,o)};return e},b.bindAll=function(t){var n,e,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(n=1;r>n;n++)e=arguments[n],t[e]=b.bind(t[e],t);return t},b.memoize=function(t,n){var e=function(r){var i=e.cache,o=""+(n?n.apply(this,arguments):r);return b.has(i,o)||(i[o]=t.apply(this,arguments)),i[o]};return e.cache={},e},b.delay=function(t,n){var e=p.call(arguments,2);return setTimeout(function(){return t.apply(null,e)},n)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,n,e){var r,i,o,a=null,u=0;e||(e={});var s=function(){u=e.leading===!1?0:b.now(),a=null,o=t.apply(r,i),a||(r=i=null)};return function(){var c=b.now();u||e.leading!==!1||(u=c);var l=n-(c-u);return r=this,i=arguments,0>=l||l>n?(a&&(clearTimeout(a),a=null),u=c,o=t.apply(r,i),a||(r=i=null)):a||e.trailing===!1||(a=setTimeout(s,l)),o}},b.debounce=function(t,n,e){var r,i,o,a,u,s=function(){var c=b.now()-a;n>c&&c>=0?r=setTimeout(s,n-c):(r=null,e||(u=t.apply(o,i),r||(o=i=null)))};return function(){o=this,i=arguments,a=b.now();var c=e&&!r;return r||(r=setTimeout(s,n)),c&&(u=t.apply(o,i),o=i=null),u}},b.wrap=function(t,n){return b.partial(n,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,n=t.length-1;return function(){for(var e=n,r=t[n].apply(this,arguments);e--;)r=t[e].call(this,r);return r}},b.after=function(t,n){return function(){return--t<1?n.apply(this,arguments):void 0}},b.before=function(t,n){var e;return function(){return--t>0&&(e=n.apply(this,arguments)),1>=t&&(n=null),e}},b.once=b.partial(b.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),S=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(g)return g(t);var n=[];for(var e in t)b.has(t,e)&&n.push(e);return E&&o(t,n),n},b.allKeys=function(t){if(!b.isObject(t))return[];var n=[];for(var e in t)n.push(e);return E&&o(t,n),n},b.values=function(t){for(var n=b.keys(t),e=n.length,r=Array(e),i=0;e>i;i++)r[i]=t[n[i]];return r},b.mapObject=function(t,n,e){n=k(n,e);for(var r,i=b.keys(t),o=i.length,a={},u=0;o>u;u++)r=i[u],a[r]=n(t[r],r,t);return a},b.pairs=function(t){for(var n=b.keys(t),e=n.length,r=Array(e),i=0;e>i;i++)r[i]=[n[i],t[n[i]]];return r},b.invert=function(t){for(var n={},e=b.keys(t),r=0,i=e.length;i>r;r++)n[t[e[r]]]=e[r];return n},b.functions=b.methods=function(t){var n=[];for(var e in t)b.isFunction(t[e])&&n.push(e);return n.sort()},b.extend=w(b.allKeys),b.extendOwn=b.assign=w(b.keys),b.findKey=function(t,n,e){n=k(n,e);for(var r,i=b.keys(t),o=0,a=i.length;a>o;o++)if(r=i[o],n(t[r],r,t))return r},b.pick=function(t,n,e){var r,i,o={},a=t;if(null==a)return o;b.isFunction(n)?(i=b.allKeys(a),r=x(n,e)):(i=F(arguments,!1,!1,1),r=function(t,n,e){return n in e},a=Object(a));for(var u=0,s=i.length;s>u;u++){var c=i[u],l=a[c];r(l,c,a)&&(o[c]=l)}return o},b.omit=function(t,n,e){if(b.isFunction(n))n=b.negate(n);else{var r=b.map(F(arguments,!1,!1,1),String);n=function(t,n){return!b.contains(r,n)}}return b.pick(t,n,e)},b.defaults=w(b.allKeys,!0),b.create=function(t,n){var e=j(t);return n&&b.extendOwn(e,n),e},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,n){return n(t),t},b.isMatch=function(t,n){var e=b.keys(n),r=e.length;if(null==t)return!r;for(var i=Object(t),o=0;r>o;o++){var a=e[o];if(n[a]!==i[a]||!(a in i))return!1}return!0};var B=function(t,n,e,r){if(t===n)return 0!==t||1/t===1/n;if(null==t||null==n)return t===n;t instanceof b&&(t=t._wrapped),n instanceof b&&(n=n._wrapped);var i=h.call(t);if(i!==h.call(n))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!==+t?+n!==+n:0===+t?1/+t===1/n:+t===+n;case"[object Date]":case"[object Boolean]":return+t===+n}var o="[object Array]"===i;if(!o){if("object"!=typeof t||"object"!=typeof n)return!1;var a=t.constructor,u=n.constructor;if(a!==u&&!(b.isFunction(a)&&a instanceof a&&b.isFunction(u)&&u instanceof u)&&"constructor"in t&&"constructor"in n)return!1}e=e||[],r=r||[];for(var s=e.length;s--;)if(e[s]===t)return r[s]===n;if(e.push(t),r.push(n),o){if(s=t.length,s!==n.length)return!1;for(;s--;)if(!B(t[s],n[s],e,r))return!1}else{var c,l=b.keys(t);if(s=l.length,b.keys(n).length!==s)return!1;for(;s--;)if(c=l[s],!b.has(n,c)||!B(t[c],n[c],e,r))return!1}return e.pop(),r.pop(),!0};b.isEqual=function(t,n){return B(t,n)},b.isEmpty=function(t){return null==t?!0:T(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=v||function(t){return"[object Array]"===h.call(t)},b.isObject=function(t){var n=typeof t;return"function"===n||"object"===n&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(n){return h.call(n)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,n){return null!=t&&d.call(t,n)},b.noConflict=function(){return a._=u,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=A,b.propertyOf=function(t){return null==t?function(){}:function(n){return t[n]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(n){return b.isMatch(n,t)}},b.times=function(t,n,e){var r=Array(Math.max(0,t));n=x(n,e,1);for(var i=0;t>i;i++)r[i]=n(i);return r},b.random=function(t,n){return null==n&&(n=t,t=0),t+Math.floor(Math.random()*(n-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var C={"&":"&","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=b.invert(C),R=function(t){var n=function(n){return t[n]},e="(?:"+b.keys(t).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,n):t}};b.escape=R(C),b.unescape=R(N),b.result=function(t,n,e){var r=null==t?void 0:t[n];return void 0===r&&(r=e),b.isFunction(r)?r.call(t):r};var D=0;b.uniqueId=function(t){var n=++D+"";return t?t+n:n},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var P=/(.)^/,V={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,G=function(t){return"\\"+V[t]};b.template=function(t,n,e){!n&&e&&(n=e),n=b.defaults({},n,b.templateSettings);var r=RegExp([(n.escape||P).source,(n.interpolate||P).source,(n.evaluate||P).source].join("|")+"|$","g"),i=0,o="__p+='";t.replace(r,function(n,e,r,a,u){return o+=t.slice(i,u).replace(z,G),i=u+n.length,e?o+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),n}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}var s=function(t){return a.call(this,t,b)},c=n.variable||"obj";return s.source="function("+c+"){\n"+o+"}",s},b.chain=function(t){var n=b(t);return n._chain=!0,n};var $=function(t,n){return t._chain?b(n).chain():n};b.mixin=function(t){b.each(b.functions(t),function(n){var e=b[n]=t[n];b.prototype[n]=function(){var t=[this._wrapped];return f.apply(t,arguments),$(this,e.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var n=s[t];b.prototype[t]=function(){var e=this._wrapped;return n.apply(e,arguments),"shift"!==t&&"splice"!==t||0!==e.length||delete e[0],$(this,e)}}),b.each(["concat","join","slice"],function(t){var n=s[t];b.prototype[t]=function(){return $(this,n.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}).call(this)},{}],"biojs-vis-circularfv":[function(t,n){var e=t("underscore"),r=t("./circular"),i=t("js-class");n.exports=CircularGenomeFeatureViewer=i(r,{constructor:function(n){t("js-extend").extend(this.opt,n),this._render()},opt:{target:"YourOwnDivId",features:[],elementsToDisplay:["source","gene","STS","rRNA","D-loop"],width:500,height:500,speed:5,mergeAnnotations:!0},_mapFeature:function(t,n){var r=$(t).find("GBFeature_key").text();e.each($(t).find("GBInterval"),function(t){var e=$(t).find("GBInterval_iscomp").attr("value"),i=+$(t).find("GBInterval_from").text(),o=+$(t).find("GBInterval_to").text(),a={};a=void 0===e?{start:i,stop:o,type:[r],text:$(t).find("GBInterval_accession").text()}:{start:o,stop:i,type:[r],text:$(t).find("GBInterval_accession").text()},n.push(a)})}})},{"./circular":1,"js-class":5,"js-extend":6,underscore:7}]},{},[]);
